"use strict";var O=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var y=(n,e,t)=>e in n?O(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,u=(n,e)=>{for(var t in e||(e={}))H.call(e,t)&&y(n,t,e[t]);if(m)for(var t of m(e))R.call(e,t)&&y(n,t,e[t]);return n};var x=(n,e)=>{for(var t in e)O(n,t,{get:e[t],enumerable:!0})},q=(n,e,t,f)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of C(e))!H.call(n,l)&&l!==t&&O(n,l,{get:()=>e[l],enumerable:!(f=w(e,l))||f.enumerable});return n};var M=n=>q(O({},"__esModule",{value:!0}),n);var W={};x(W,{default:()=>A});module.exports=M(W);var T=require("react");function A(n,e,t,f=[],l={}){let{oneToOne:v=!1,callHandlerOnce:k=!1,callHandlerOnEach:E=!1,listenerOptions:b={}}=l,i=Array.isArray(e)?e:[e],s=Array.isArray(n)?n:[n];if(v&&s.length!==i.length)throw new Error("When oneToOne is set to false, the number of refs and events must be equal.");(0,T.useEffect)(()=>{var g,h,p;let a=t();k&&a();let c=new AbortController;if(v){for(let r=0;r<s.length;r++)E&&a(),(h=(g=s[r])==null?void 0:g.current)==null||h.addEventListener(i[r],a,u({signal:c.signal},b));return()=>c.abort()}for(let r of s)for(let d of i)E&&a(),(p=r==null?void 0:r.current)==null||p.addEventListener(d,a,u({signal:c.signal},b));return()=>{var r,d,L;if(b.signal)if(v)for(let o=0;o<s.length;o++)(d=(r=s[o])==null?void 0:r.current)==null||d.removeEventListener(i[o],a);else for(let o of s)for(let j of i)(L=o==null?void 0:o.current)==null||L.removeEventListener(j,a);else c.abort()}},f)}
